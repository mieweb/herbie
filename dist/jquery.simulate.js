/*! For license information please see jquery.simulate.js.LICENSE.txt */
!function(e,t){"use strict";var n=/^key/,o=/^(?:mouse|contextmenu)|click/,r=/\[object (?:HTML)?Document\]/;function i(e){return r.test(Object.prototype.toString.call(e))}function c(e){for(var t=0;t<window.frames.length;t+=1)if(window.frames[t].document===e)return window.frames[t];return window}e.fn.simulate=function(t,n){return this.each((function(){new e.simulate(this,t,n)}))},e.simulate=function(t,n,o){var r=e.camelCase("simulate-"+n);this.target=t,this.options=o||{},this[r]?this[r]():this.simulateEvent(t,n,this.options)},e.extend(e.simulate,{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},buttonCode:{LEFT:0,MIDDLE:1,RIGHT:2}}),e.extend(e.simulate.prototype,{simulateEvent:function(e,t,n){var o=this.createEvent(t,n);this.dispatchEvent(e,t,o,n)},createEvent:function(e,t){return n.test(e)?this.keyEvent(e,t):o.test(e)?this.mouseEvent(e,t):void 0},mouseEvent:function(n,o){var r,a,u,s,l=i(this.target)?this.target:this.target.ownerDocument||document;return o=e.extend({bubbles:!0,cancelable:"mousemove"!==n,view:c(l),detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:t},o),l.createEvent?((r=l.createEvent("MouseEvents")).initMouseEvent(n,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget||l.body.parentNode),0===r.pageX&&0===r.pageY&&Object.defineProperty&&(a=i(r.relatedTarget)?r.relatedTarget:r.relatedTarget.ownerDocument||document,u=a.documentElement,s=a.body,Object.defineProperty(r,"pageX",{get:function(){return o.clientX+(u&&u.scrollLeft||s&&s.scrollLeft||0)-(u&&u.clientLeft||s&&s.clientLeft||0)}}),Object.defineProperty(r,"pageY",{get:function(){return o.clientY+(u&&u.scrollTop||s&&s.scrollTop||0)-(u&&u.clientTop||s&&s.clientTop||0)}}))):l.createEventObject&&(r=l.createEventObject(),e.extend(r,o),r.button={0:1,1:4,2:2}[r.button]||r.button),r},keyEvent:function(n,o){var r,a;if(o=e.extend({bubbles:!0,cancelable:!0,view:c(a),ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:t},o),(a=i(this.target)?this.target:this.target.ownerDocument||document).createEvent)try{(r=a.createEvent("KeyEvents")).initKeyEvent(n,o.bubbles,o.cancelable,o.view,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode)}catch(u){(r=a.createEvent("Events")).initEvent(n,o.bubbles,o.cancelable),e.extend(r,{view:o.view,ctrlKey:o.ctrlKey,altKey:o.altKey,shiftKey:o.shiftKey,metaKey:o.metaKey,keyCode:o.keyCode,charCode:o.charCode})}else a.createEventObject&&(r=a.createEventObject(),e.extend(r,o));return(/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||"[object Opera]"==={}.toString.call(window.opera))&&(r.keyCode=o.charCode>0?o.charCode:o.keyCode,r.charCode=t),r},dispatchEvent:function(t,n,o,r){!0===r.jQueryTrigger?e(t).trigger(e.extend({},o,r,{type:n})):t.dispatchEvent?t.dispatchEvent(o):t.fireEvent&&t.fireEvent("on"+n,o)},simulateFocus:function(){var t,n=!1,o=e(this.target);function r(){n=!0}o.bind("focus",r),o[0].focus(),n||((t=e.Event("focusin")).preventDefault(),o.trigger(t),o.triggerHandler("focus")),o.unbind("focus",r)},simulateBlur:function(){var t,n=!1,o=e(this.target);function r(){n=!0}o.bind("blur",r),o[0].blur(),setTimeout((function(){o[0].ownerDocument.activeElement===o[0]&&o[0].ownerDocument.body.focus(),n||((t=e.Event("focusout")).preventDefault(),o.trigger(t),o.triggerHandler("blur")),o.unbind("blur",r)}),1)}}),e.extend(e.simulate.prototype,{simulateDrag:function(){var n,o,r=0,c=this.target,a=this.options,u="corner"===a.handle?(i((o=e(c))[0])?n={left:0,top:0}:(e(o[0].ownerDocument||document),n=o.offset()),{x:n.left-document.scrollLeft(),y:n.top-document.scrollTop()}):function(t){var n,o,r=e(t);return i(r[0])?(o=r,n={left:0,top:0}):(o=e(r[0].ownerDocument||document),n=r.offset()),{x:n.left+r.outerWidth()/2-o.scrollLeft(),y:n.top+r.outerHeight()/2-o.scrollTop()}}(c),s=Math.floor(u.x),l=Math.floor(u.y),d={clientX:s,clientY:l},f=a.dx||(a.x!==t?a.x-s:0),m=a.dy||(a.y!==t?a.y-l:0),v=a.moves||3;for(this.simulateEvent(c,"mousedown",d);r<v;r++)s+=f/v,l+=m/v,d={clientX:Math.round(s),clientY:Math.round(l)},this.simulateEvent(c.ownerDocument,"mousemove",d);e.contains(document,c)?(this.simulateEvent(c,"mouseup",d),this.simulateEvent(c,"click",d)):this.simulateEvent(document,"mouseup",d)}})}(jQuery);